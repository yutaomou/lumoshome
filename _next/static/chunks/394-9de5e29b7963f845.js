"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{13570:(e,i,l)=>{l.d(i,{F:()=>n,O:()=>o});var t=l(7132);let n=e=>e.includes("auk")?t.Dg:["v3-5","v4","v3p5"].some(i=>e.includes(i))?t.z3:t.w4,o=e=>e.includes("auk")?t.mc:t.$V},29734:(e,i,l)=>{l.d(i,{EL:()=>s,sj:()=>o,vT:()=>d});var t=l(95155),n=l(39688);let o=e=>{let{as:i="span",...l}=e,o=(0,n.QP)("block h-3 bg-[var(--skeleton-bg,var(--color-background-secondary))] rounded-md","relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_2s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/5 before:to-transparent",e.className);return(0,t.jsx)(i,{...l,className:o})},d=()=>(0,t.jsxs)("div",{className:"flex-shrink-0 flex flex-col gap-2",children:[(0,t.jsx)(o,{className:"w-[160px] h-[240px] mb-4"}),(0,t.jsx)(o,{}),(0,t.jsx)(o,{}),(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,t.jsx)(o,{className:"h-[36px] aspect-square rounded-full"}),(0,t.jsx)(o,{className:"flex-1"})]})]}),s=()=>(0,t.jsxs)("div",{className:"flex flex-col w-full flex-shrink-0",children:[(0,t.jsx)(o,{className:"w-48 mb-3"}),(0,t.jsx)(o,{className:"w-48 mb-6"}),(0,t.jsxs)("div",{className:"w-full mb-8 overflow-hidden flex flex-row gap-4 flex-nowrap",children:[(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{}),(0,t.jsx)(d,{})]})]})},35540:(e,i,l)=>{l.d(i,{AA:()=>m,AB:()=>h,Dc:()=>x,Du:()=>r,I8:()=>c,a3:()=>u,eP:()=>d,lI:()=>g,qM:()=>p,sE:()=>a,sx:()=>v});var t=l(69089),n=l(2045),o=l(90037);t.A.addDefaultLocale(n.A);let d=new t.A("en-US"),s=/[,，،；、᠂،ฯ་،،.。।]/;function a(){for(var e=arguments.length,i=Array(e),l=0;l<e;l++)i[l]=arguments[l];return i.flatMap(e=>e.split(s).map(e=>e.trim())).filter(Boolean)}function r(e){return e.map(e=>"".concat("‑").concat(c(e)))}function c(e){let i=e?e.trim():"";return i.startsWith("‑")?i.slice(1):i}function u(e,i){if(!e)return i?"-:--":"--:--";let l=Math.floor(e/3600),t=Math.floor(e/60)%60,n=Math.floor(e)%60;return l>0?"".concat(l,":").concat(t.toString(10).padStart(2,"0"),":").concat(n.toString(10).padStart(2,"0")):"".concat(t.toString(10),":").concat(n.toString(10).padStart(2,"0"))}var v=function(e){return e.IMAGE="image",e.VIDEO="video",e}({});function p(e){var i;return!!(null==e?void 0:null===(i=e.metadata)||void 0===i?void 0:i.is_suno_short)}function m(e){var i;if(p(e))return(null==e?void 0:null===(i=e.metadata)||void 0===i?void 0:i.is_image_to_song)?"image":"video"}let g=(e,i,l,t,n)=>!!l||!e&&!!i&&(t.user_id===n||!(0,o.a)(t)),x=e=>!!e,h=e=>{var i,l,t;let{clip:n,session:o,showOnOwnSong:d=!1}=e;return(d||n.user_id!==(null===(i=o.user)||void 0===i?void 0:i.id))&&(null===(l=n.metadata)||void 0===l?void 0:l.can_remix)!==!1&&(null===(t=o.flags)||void 0===t?void 0:t.remix)}},37159:(e,i,l)=>{l.d(i,{L:()=>a,V:()=>s});var t=l(77119),n=l(63808),o=l(2918),d=l(24423);let s=e=>{let{clip:i,menus:l,session:d}=e,s=(null==d?void 0:d.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==d?void 0:d.userId);(0,t.oR)({title:"Song is now public!",description:"Your song is live and discoverable",status:"success",duration:2e3,actionText:"Share",onActionClick:()=>{(0,n.Ay)({actionName:"PublicToastShareClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:s}}),l.setCurrentClip(i),l.openModal(o.H.SHARE_CLIP),d.clearTooltipOnShare()}})},a=e=>{let{clip:i,session:l}=e,o=(null==l?void 0:l.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==l?void 0:l.userId);(0,t.oR)({title:"Song is now link only",description:"This song won't appear in search or feeds",duration:2e3,actionText:"Copy Link",onActionClick:()=>{(0,n.Ay)({actionName:"PublicToastCopyLinkClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:o}}),(0,d.Kj)(l.apiClient,i),l.clearTooltipOnShare()}})}},44710:(e,i,l)=>{l.d(i,{A:()=>P});var t=l(95155),n=l(3740),o=l(59118),d=l(274),s=l(64346),a=l(87816),r=l(46391),c=l(52596),u=l(63438),v=l(35695),p=l(12115),m=l(82451),g=l(6825),x=l(38277),h=l(39688),f=l(77119),b=l(74955),C=l(97942),y=l(56518),k=l(79617),S=l(50649),w=l(7132),j=l(4869),I=l(78028),A=l(61932);let P=(0,u.PA)(e=>{var i,l;let{clip:u={},onRemoveFromPlaylist:P,onRemoveFromProject:_,onMenuButtonClick:N,onMenuClosed:M,onCloseMenuModal:T,isMobile:R=!1,isFromSongRow:L,isTriggered:D=!1,rowKey:E,buttonTriggerClassName:F,buttonClassName:H,buttonVariant:O=b.Ak.Tertiary,buttonSize:U=b.Mp.Mini,buttonShape:B=b.aH.Rounded,buttonActive:W=!1,buttonAspectSquare:G,buttonIcon:V=S.FHP,sectionName:z,renderTrigger:Q,triggerRef:q}=e,{session:J,clips:K,playbar:X,genForm:Y,library:$,edit:Z,project:ee,menus:ei,trash:el,createV2:et,queue:en}=(0,f.gy)(),eo=(0,v.useRouter)(),ed=(0,v.usePathname)(),[es,ea]=(0,p.useState)(!1),er=(0,r.useStatsigClient)(),ec=(0,I.NE)({router:eo,pathname:ed,statsigClient:er,sectionName:z}),eu=(0,p.useRef)(void 0),ev=(0,p.useRef)(void 0),[ep]=(0,g.JT)({},eu,x.k),{buttonProps:em}=(0,m.s)(ep,eu),eg=null!==ei.songDropdownTriggeredAt?((null===(i=ei.songDropdownTriggeredAt)||void 0===i?void 0:i.x)||0)-((null===(l=ev.current)||void 0===l?void 0:l.getBoundingClientRect().x)||0):null,ex=(ei.selectedClipIds||[]).map(e=>K.clipById[e]),eh=ex.length>0&&ex.every(e=>{var i;return J.sessionIsLoaded&&(null==e?void 0:e.user_id)===(null===(i=J.user)||void 0===i?void 0:i.id)}),ef=ex.length>0&&ex.every(e=>(null==e?void 0:e.status)==="complete"),eb=new Set(ex.map(e=>null==e?void 0:e.is_trashed)),eC=1===eb.size?[...eb][0]:void 0,ey=[...ei.selected||[]].length>1&&[...ei.selectedClipIds||[]].includes(null==u?void 0:u.id),[ek,eS]=(0,p.useState)({}),ew=e=>{eS(i=>({...i,[e]:!0}))},ej=e=>{eS(i=>({...i,[e]:!1}))},eI=e=>{if(!R){var i;ei.setSongDropdownTriggeredAt(null),ea(!es),[...ei.selectedClipIds||[]].includes(null==u?void 0:u.id)&&e.stopPropagation(),(![...ei.selectedClipIds||[]].includes(null==u?void 0:u.id)||1==[...ei.selectedClipIds||[]].length&&(null===(i=ei.currentClip)||void 0===i?void 0:i.id)!==u.id)&&(ei.setCurrentClip(u),(E||(null==u?void 0:u.id))&&ei.setSelected(new Set([E||(null==u?void 0:u.id)]))),N&&N()}},eA={transition:"background-color 0.3s ease",borderRadius:"8px",fontSize:"14px",cursor:"pointer",padding:"8px",outline:"none","&:focus":{outline:"none"},"&:before":{content:"",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"inherit",zIndex:"-1"}},eP=e=>{R?(e.onClick({clip:u,playbar:X,session:J,clips:K,genForm:Y,createV2:et,library:$,edit:Z,project:ee,queue:en,router:eo,pathname:ed,onRemoveFromPlaylist:P,onRemoveFromProject:_,menus:ei,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef,selectedClipIds:ei.selectedClipIds},onClose:T}),null==T||T()):(ea(!1),e.onClick({playbar:X,menus:ei,clip:u,onRemoveFromPlaylist:P,onRemoveFromProject:_,session:J,clips:K,genForm:Y,createV2:et,queue:en,library:$,edit:Z,project:ee,router:eo,pathname:ed,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef,selectedClipIds:ei.selectedClipIds},onClose:()=>ea(!1)}))},e_=e=>!!R&&!!e.desktopOnly||("function"==typeof e.isHidden?e.isHidden({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef,selectedClipIds:ei.selectedClipIds},onRemoveFromPlaylist:P,onRemoveFromProject:_,isFromSongRow:L||!1,trash:R?el:void 0}):e.isHidden),eN=function(e){var i,l;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e_(e))return null;let r="function"==typeof e.bgOverride?e.bgOverride({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsComplete:ef,allSelectedClipsOwnedByUser:eh},onRemoveFromPlaylist:P,onRemoveFromProject:_}):e.bgOverride||"none",c="#FAF7F5"===r,v=c?"#000000":"#FAF7F5",p="function"==typeof e.isDisabled?e.isDisabled({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsComplete:ef,allSelectedClipsOwnedByUser:eh},onRemoveFromPlaylist:P,onRemoveFromProject:_}):e.isDisabled,m="function"==typeof e.disabledText?e.disabledText({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}):e.disabledText,g=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center ".concat(e.fullWidth?"w-full":""),children:[e.icon&&(0,t.jsx)(n.Icon,{as:e.icon,mr:2,className:R?"w-3 h-3":void 0}),"function"==typeof e.title?e.title({clip:u,clips:K,isDisabled:p}):e.title,"remaster"===e.id&&!(null===(i=J.flags)||void 0===i?void 0:i.upsample)&&J.freeRemastersLeft>0&&(0,t.jsxs)("span",{className:"ml-2 text-xs text-lightGray",children:[J.freeRemastersLeft," free"]}),"remaster"===e.id&&(0,t.jsx)("span",{className:"ml-2",children:(0,t.jsx)(k.vw,{variant:"green",children:"v4"})}),!["cover-song","get-stems","make-persona","use-persona","regenerate-video"].includes(e.id)||(0,j.FJ)(J)||(0,j.Xl)(J)?e.isBeta?(0,t.jsx)(y.A,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!",auraImage:"make-persona"===e.id||"use-persona"===e.id?"/auras/Aura-07.jpg":void 0}):null:(0,t.jsx)("div",{className:"ml-2 px-1.5 py-0.5 text-xs rounded bg-[#4A4A4A] text-secondary",children:"Pro"})]}),!R&&(null===(l=e.isLoading)||void 0===l?void 0:l.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}))&&(0,t.jsx)(C.A,{className:"ml-2 w-4 h-4"})]}),x=["cover-song","get-stems","make-persona","use-persona","regenerate-video"].includes(e.id),h=p&&!(0,j.FJ)(J)&&!(0,j.Xl)(J),f=p&&!(x&&h);if(R)return(0,t.jsx)(o.MenuItem,{fontSize:"sm",fontFamily:"Neue Montreal",color:v,rounded:"md",ml:s?1:-2,onClick:()=>!f&&eP(e),style:{background:r,pointerEvents:c&&!e.isToggleable?"none":"auto",opacity:f?.5:1},isDisabled:f,children:g},e.id);let b=(0,I.Jq)(e,u,c);return(0,t.jsx)(d.Tooltip,{isDisabled:!(p&&m),label:m,placement:"right",children:(0,t.jsx)(a.q7,{style:{...eA,...b,fontFamily:"Neue Montreal, sans-serif",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",pointerEvents:c&&!e.isToggleable?"none":"auto",cursor:f?"not-allowed":"pointer",opacity:f?.5:1,...!c&&ek[e.id]?{background:w.e_}:{}},onClick:()=>{f||eP(e)},onKeyDown:i=>{f||"Enter"!==i.key||eP(e)},onMouseEnter:()=>ew(e.id),onMouseLeave:()=>ej(e.id),disabled:p,children:g})},e.id)},eM=e=>{var i,l,o,r,c,v;if(null===(i=e.isHidden)||void 0===i?void 0:i.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}))return null;let p=null===(l=e.isDisabled)||void 0===l?void 0:l.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}),m=(null===(o=e.tooltipProps)||void 0===o?void 0:o.show)&&e.tooltipProps.getMessage({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_});return R?(0,t.jsxs)(s.MenuGroup,{children:[(0,t.jsxs)("div",{style:{opacity:p?.5:1},children:[(0,t.jsx)("div",{children:e.title}),p&&m&&(null===(c=e.tooltipProps)||void 0===c?void 0:c.mobileInlineText)&&(0,t.jsx)("div",{style:{fontSize:"12px",color:"#A19F9D",marginTop:"2px"},children:m})]}),null===(v=e.items)||void 0===v?void 0:v.map(e=>eN(e,!0))]},e.id):(0,t.jsxs)(a.Pb,{children:[(0,t.jsx)(d.Tooltip,{isDisabled:!p||!m,label:m,placement:"right",children:(0,t.jsxs)(a.ZP,{style:{...eA,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:ek[e.id]?w.e_:"none",color:"#FAF7F5",opacity:p?.5:1,boxShadow:ek[e.id]?"inset 0 0 0 1000px rgba(255, 255, 255, 0.05)":"none"},onMouseEnter:()=>ew(e.id),onMouseLeave:()=>ej(e.id),disabled:p,"data-testid":"".concat(e.id,"-sub-trigger"),children:[(0,t.jsxs)("span",{className:"flex items-center",children:[e.icon&&(0,t.jsx)(n.Icon,{as:e.icon,mr:2,className:"w-4 h-4"}),e.title,p&&m&&(0,t.jsx)(S.NTw,{className:"w-4 h-4 mb-1 ml-1 inline"})]}),(0,t.jsx)(n.Icon,{as:S.AjN,mt:1})]})}),(0,t.jsx)(a.G5,{style:{background:(0,A.VA)("background/secondary"),borderRadius:"10px",padding:"4px",zIndex:w.TV,marginLeft:"4px",width:"auto",maxWidth:"250px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:null===(r=e.items)||void 0===r?void 0:r.map(eN)})]},e.id)},eT=e=>{var i,l,o,r,v,p,m;if(null===(i=e.isHidden)||void 0===i?void 0:i.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}))return null;let g=null===(l=e.isDisabled)||void 0===l?void 0:l.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}),x=null===(o=e.isLoading)||void 0===o?void 0:o.call(e,{clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_}),h=(null===(r=e.tooltipProps)||void 0===r?void 0:r.show)&&e.tooltipProps.getMessage({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef},onRemoveFromPlaylist:P,onRemoveFromProject:_});return R?(0,t.jsxs)(s.MenuGroup,{children:[(0,t.jsxs)("div",{style:{opacity:g?.5:1},children:[(0,t.jsx)("div",{children:e.title}),g&&h&&(null===(p=e.tooltipProps)||void 0===p?void 0:p.mobileInlineText)&&(0,t.jsx)("div",{style:{fontSize:"12px",color:"#A19F9D",marginTop:"2px"},children:h})]}),null===(m=e.items)||void 0===m?void 0:m.map(e=>eN(e,!0))]},e.id):(0,t.jsxs)(a.Pb,{children:[(0,t.jsx)(d.Tooltip,{isDisabled:!g||!h,label:h,placement:"right",children:(0,t.jsxs)("div",{className:(0,c.A)("flex items-stretch mb-[1px] rounded-md bg-[rgba(255,255,255,0.1)] transition-all duration-200",{"hover:bg-[rgba(255,255,255,0.2)]":!x}),children:[(0,t.jsxs)(a.q7,{style:{...eA,flexGrow:1,fontFamily:"Neue Montreal, sans-serif",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"flex-start",borderTopRightRadius:0,borderBottomRightRadius:0,opacity:x?.5:1},onClick:()=>{x||eP(e)},onKeyDown:i=>{"Enter"===i.key&&eP(e)},onMouseEnter:()=>ew(e.id),onMouseLeave:()=>ej(e.id),disabled:g,children:[e.icon&&(0,t.jsx)(n.Icon,{as:e.icon,mr:2,className:"w-4 h-4"}),e.title]}),(0,t.jsx)(a.ZP,{style:{...eA,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",width:30,color:"#FAF7F5",opacity:g?.5:1,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"1px solid #222"},onMouseEnter:()=>ew(e.id),onMouseLeave:()=>ej(e.id),disabled:g,"data-testid":"".concat(e.id,"-sub-trigger"),children:(0,t.jsx)(n.Icon,{as:S.AjN,mt:1})})]})}),(0,t.jsx)(a.G5,{style:{background:(0,A.VA)("background/secondary"),borderRadius:"10px",padding:"4px",zIndex:w.TV,marginLeft:"4px",width:"auto",maxWidth:"250px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:null===(v=e.items)||void 0===v?void 0:v.map(eN)})]},e.id)},eR=e=>e.actions.filter(e=>{let i="function"==typeof e.isHidden?e.isHidden({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef,selectedClipIds:ei.selectedClipIds}}):e.isHidden;return"items"in e&&!i?e.items.some(e=>!("function"==typeof e.isHidden?e.isHidden({clip:u,session:J,clips:K,selectionProps:{isMultiSelecting:ey,selectedClips:ex,selectedClipsIsTrashedState:eC,allSelectedClipsOwnedByUser:eh,allSelectedClipsComplete:ef,selectedClipIds:ei.selectedClipIds}}):e.isHidden)):!i}).length>0,eL=ec.map((e,i)=>eR(e)?(0,t.jsx)(p.Fragment,{children:e.actions.map(e=>"items"in e&&"onClick"in e?eT(e):"items"in e?eM(e):eN(e))},i):null).filter(e=>!!e);if((0,p.useEffect)(()=>{D&&!R&&ea(!0)},[D,R]),R)return eL.map((e,i)=>(0,t.jsxs)(p.Fragment,{children:[e,i<eL.length-1&&(0,t.jsx)("hr",{style:{border:"1px solid rgba(255, 255, 255, 0.3)",borderBottom:"0",margin:"8px 2px"}})]},i));let eD=(0,p.useCallback)(e=>{ea(e),e||null==M||M()},[M]);return eL.length?(0,t.jsxs)(a.bL,{open:es,onOpenChange:eD,children:[(0,t.jsx)(a.l9,{...em,className:(0,h.QP)("rounded-full outline-none",F),ref:ev,onPointerDown:eI,onKeyDown:e=>{"Enter"===e.key&&eI(e)},draggable:"false","aria-label":"More Options",children:Q?Q():(0,t.jsx)(b.Ay,{ref:q,className:(0,h.QP)("outline-none",H),variant:O,size:U,shape:B,active:W,aspectSquare:G,icon:V,iconClassName:(0,c.A)("flex justify-center items-center",{"mx-0":b.aH.Pill===B}),enableHoverState:!0,"aria-label":"More Options"})}),(0,t.jsx)(a.ZL,{children:(0,t.jsx)(a.UC,{style:{background:(0,A.VA)("background/secondary"),borderRadius:"10px",padding:"4px",zIndex:w.TV,width:"230px",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.2)",marginLeft:eg?"".concat(eg,"px"):void 0},children:eL.map((e,i)=>(0,t.jsxs)(p.Fragment,{children:[e,i<eL.length-1&&(0,t.jsx)("hr",{style:{border:"1px solid rgba(255, 255, 255, 0.3)",borderBottom:"0",margin:"8px 2px"}})]},i))})})]}):null})},52512:(e,i,l)=>{l.d(i,{A:()=>a});var t=l(95155),n=l(12115),o=l(39688),d=l(65015),s=l(35540);let a=e=>{let{className:i,tagClassName:l,tags:a,renderTag:r=d.A,...c}=e;return(null==a?void 0:a.length)?(0,t.jsx)("div",{className:(0,o.QP)("font-sans text-sm break-all gap-2 text-primary",i),...c,children:null==a?void 0:a.map((e,i)=>{let d=(0,s.I8)(e),c="/style/".concat(encodeURIComponent(d));return(0,t.jsxs)(n.Fragment,{children:[r&&n.createElement(r,{className:(0,o.QP)("hover:underline",l),href:c,title:d},e),i===a.length-1?"":", "]},i)})}):null}},56518:(e,i,l)=>{l.d(i,{A:()=>o});var t=l(95155),n=l(12115);let o=e=>{let{label:i,tooltip:l,auraImage:o,gradient:d}=e,[s,a]=(0,n.useState)(!1),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=e=>{s&&r.current&&!r.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"relative inline-block h-[20px]",ref:r,children:[(0,t.jsx)("div",{onClick:()=>l&&a(!s),onMouseEnter:()=>l&&a(!0),onMouseLeave:()=>l&&a(!1),className:"".concat(d?"":"auraAnimate"," px-2 cursor-default leading-[20px] ml-[4px] text-xs bg-tertiary font-semibold rounded"),style:o?{backgroundImage:"url(".concat(o,")"),backgroundSize:"500% 500%"}:d?{background:d}:{},children:(0,t.jsx)("span",{style:{textShadow:d?"":"1px 1px 3px black"},children:i})}),s&&l&&(0,t.jsx)("div",{className:"absolute z-10 mt-[2px] ml-1 w-48 p-2 text-white bg-tertiary rounded shadow-lg left-0 font-sans font-xs border border-white border-opacity-20",children:l})]})})}},57147:(e,i,l)=>{l.d(i,{A:()=>s});var t=l(95155),n=l(12115),o=l(13648),d=l(39688);let s=e=>{let{label:i,labelClassName:l,containerClassName:s,wrapperClassName:a,thumbClassName:r,checked:c=!1,onChange:u,disabled:v=!1,small:p=!1}=e,[m,g]=(0,n.useState)(c);(0,n.useEffect)(()=>{g(c)},[c]);let{pressProps:x}=(0,o.d)({onPress:()=>{!v&&(g(!m),u&&u(!m))}});return(0,t.jsxs)("div",{className:(0,d.QP)("flex items-center space-x-2",a),children:[(0,t.jsx)("div",{"aria-label":i,tabIndex:0,className:(0,d.QP)("relative inline-flex items-center ".concat(p?"h-4 w-7":"h-6 w-10"," rounded-full transition-colors duration-300 ease-in-out ").concat(v?"cursor-not-allowed opacity-50 ":"cursor-pointer ").concat(m?"bg-primary":"bg-tertiary"," ring-1 ring-opacity-20 ").concat(m?"ring-white":"ring-white/20"),s),...x,children:(0,t.jsx)("span",{className:(0,d.QP)("absolute left-0.5 top-0.5 ".concat(p?"h-3 w-3":"h-5 w-5"," transform ").concat(m?"bg-tertiary":"bg-primary/75"," ").concat(m?"border border-white/20":""," rounded-full transition-transform duration-300 ease-in-out ").concat(m?p?"translate-x-3":"translate-x-4":""),r)})}),i&&(0,t.jsx)("span",{className:(0,d.QP)("font-sans font-normal text-sm select-none ".concat(v?"text-lighterGray":"text-white"),l),children:i})]})}},57851:(e,i,l)=>{l.d(i,{A:()=>a,v:()=>s});var t=l(95155);l(31174);var n=l(12115),o=l(77119),d=l(7132);function s(e){return e!=d.tL&&(null==e?void 0:e.endsWith(".jpeg"))&&e.includes("image")&&(e=e.replace("image","image_large")),e}let a=e=>{var i;let{alt:l,src:a,fallbackSrc:r=d.tL,imageSize:c=0,shouldFallback:u=!0,...v}=e,{session:p}=(0,o.gy)(),[m,g]=(0,n.useState)(a||r);(0,n.useEffect)(()=>{g(a||r)},[a]);let x=(c==d.M_||c==d.C5||c==d.cR)&&(null==p?void 0:null===(i=p.flags)||void 0===i?void 0:i["image-on-demand-backfill-jpeg"])?function(e,i){return i==d.cR?s(e):e!=d.tL&&(null==e?void 0:e.endsWith(".jpeg"))&&i>0?e+"?width="+i:e}(m||void 0,c):m;return(0,t.jsx)("img",{alt:l,src:x||"","data-src":s(a||void 0),onError:()=>{u&&g(r)},...v})}},63175:(e,i,l)=>{l.d(i,{Dw:()=>a,JG:()=>c,LK:()=>o,U$:()=>u,dM:()=>d,jn:()=>r,k8:()=>s});var t=l(35540),n=l(61932);let o=e=>e?e.endsWith(" (Remix)")?e:"".concat(e," (Remix)"):"",d=async e=>{var i,l,t,d,s;let{clip:a,session:r,genForm:c,createV2:u,router:v,pathname:p}=e;c.setCoverClip(a),c.setSelectedClip(a),c.resetContinueClip(),c.resetStylesLyricsClip(),u.setSpeedClipId(null),c.setIsRemixCreate(!0),c.setIsSimple(!1),c.setLyrics((null===(i=a.metadata)||void 0===i?void 0:i.prompt)||""),(null===(l=r.flags)||void 0===l?void 0:l["persona-cover"])&&c.personaId?c.setTask("artist_cover"):c.setTask("cover"),u&&(u.setSelectedRemixClip(a),u.setIsAdvancedMode(!0),null===(t=u.setCoverExtendMode)||void 0===t||t.call(u,"cover"),null===(d=u.setReusePromptMode)||void 0===d||d.call(u,!1),u.setActiveLyrics((null===(s=a.metadata)||void 0===s?void 0:s.prompt)||""),u.setActiveLyricsMode("custom"),u.setActiveLyricsModeTab("custom"),u.setActiveTitle(o((0,n.p8)(a)))),c.shouldOpenMobileCreate=!0,v&&p&&"/create"!==p&&v.push("/create")},s=async e=>{var i,l,d,s,a,r,c;let{clip:u,genForm:v,createV2:p,router:m,pathname:g}=e;if(v.setContinueClip(u),v.setSelectedClip(u),v.resetCoverClip(),v.resetStylesLyricsClip(),p.setSpeedClipId(null),v.setIsRemixCreate(!0),v.setIsSimple(!1),v.setTask("extend"),v.setStyle((null===(i=u.metadata)||void 0===i?void 0:i.tags)||""),(null===(l=u.metadata)||void 0===l?void 0:l.negative_tags)&&(v.setNegativeTags((null===(d=u.metadata)||void 0===d?void 0:d.negative_tags)||""),v.setEnableExcludeStyle(!0)),p){if(p.setSelectedRemixClip(u),p.setIsAdvancedMode(!0),null===(s=p.setCoverExtendMode)||void 0===s||s.call(p,"extend"),null===(a=p.setReusePromptMode)||void 0===a||a.call(p,!1),p.reuseClipPrompt(u),null===(r=u.metadata)||void 0===r?void 0:r.negative_tags){let e=(0,t.sE)((null===(c=u.metadata)||void 0===c?void 0:c.negative_tags)||"");p.setActiveNegativeTags(e),p.setIsExcludeStylesHidden(!1)}u.major_model_version&&v.matchClipModel(u),""===p.activeTitle&&p.setActiveTitle(o((0,n.p8)(u)))}v.shouldOpenMobileCreate=!0,m&&g&&"/create"!==g&&m.push("/create")},a=async e=>{var i,l,d,s,a,r,c;let{clip:u,genForm:v,createV2:p,router:m,pathname:g}=e;if(v.setStylesLyricsClip(u),v.setSelectedClip(u),v.setCoverClip(null),v.setContinueClip(null),p.setSpeedClipId(null),v.setStyle((null===(i=u.metadata)||void 0===i?void 0:i.tags)||""),v.setIsRemixCreate(!0),v.setIsSimple(!1),(null===(l=u.metadata)||void 0===l?void 0:l.negative_tags)&&(v.setNegativeTags((null===(s=u.metadata)||void 0===s?void 0:s.negative_tags)||""),v.setEnableExcludeStyle(!0)),v.setLyrics((null===(d=u.metadata)||void 0===d?void 0:d.prompt)||""),p){if(p.setSelectedRemixClip(u),p.setReusePromptMode(!0),p.setIsAdvancedMode(!0),p.setActiveLyrics((null===(a=u.metadata)||void 0===a?void 0:a.prompt)||""),p.setActiveLyricsMode("custom"),p.setActiveLyricsModeTab("custom"),p.reuseClipPrompt(u),null===(r=u.metadata)||void 0===r?void 0:r.negative_tags){let e=(0,t.sE)((null===(c=u.metadata)||void 0===c?void 0:c.negative_tags)||"");p.setActiveNegativeTags(e),p.setIsExcludeStylesHidden(!1)}p.setActiveTitle(o((0,n.p8)(u))),u.major_model_version&&v.matchClipModel(u)}v.shouldOpenMobileCreate=!0,m&&g&&"/create"!==g&&m.push("/create")},r=async e=>{let{clip:i,genForm:l,createV2:t,router:d,pathname:s,showRemixCreate:a}=e;l.setSelectedClip(i),a&&l.setIsRemixCreate(!0),l.setIsSimple(!1),l.resetCoverClip(),l.resetContinueClip(),l.resetStylesLyricsClip(),t&&(t.setSpeedClipId(i.id),t.setIsAdvancedMode(!0)),a&&t.setActiveTitle(o((0,n.p8)(i))),l.shouldOpenMobileCreate=!0,d&&s&&"/create"!==s&&d.push("/create")},c=(e,i)=>e.handle!==i.user_handle,u=(e,i,l)=>{var t,n,o;return!((null===(t=l.flags)||void 0===t?void 0:t.remix)&&e&&(null==i?void 0:i.user_handle)&&(e.handle!==(null===(n=l.user)||void 0===n?void 0:n.handle)||(null==i?void 0:i.user_handle)!==(null===(o=l.user)||void 0===o?void 0:o.handle)))}},71921:(e,i,l)=>{l.d(i,{A:()=>a,J:()=>s});var t=l(95155);l(12115);var n=l(39688),o=l(29734),d=l(57851);let s={Persona:{mask:"url(/persona-shape.svg)",WebkitMask:"url(/persona-shape.svg)",maskSize:"contain",WebkitMaskSize:"contain",maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center"}},a=e=>{let{displayName:i,handle:l,size:s,maskShape:a,src:r,fallbackSrc:c=!1,...u}=e,v=a?e.className:(0,n.QP)("rounded-full",e.className),p=e.style&&a?{...e.style,...a}:e.style||a;return!1!==c||r?(0,t.jsx)(d.A,{alt:i||"@".concat(l),width:s,height:s,src:r,fallbackSrc:c||void 0,...u,className:v,style:p}):(0,t.jsx)(o.sj,{className:(0,n.QP)("h-auto",v),style:p})}},76956:(e,i,l)=>{l.d(i,{vv:()=>n});var t=l(95155);l(12115);let n=e=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-3 h-3 text-primary",fill:"currentColor",...e,children:(0,t.jsxs)("g",{transform:"translate(12,12)",children:[(0,t.jsx)("rect",{className:"animate-wave1",x:-10,y:-7,width:4,height:14}),(0,t.jsx)("rect",{className:"animate-wave2",x:-2,y:-7,width:4,height:14}),(0,t.jsx)("rect",{className:"animate-wave3",x:6,y:-7,width:4,height:14})]})})},78028:(e,i,l)=>{l.d(i,{Jq:()=>M,NE:()=>O,_d:()=>D});var t=l(95155),n=l(12115),o=l(77119),d=l(13570),s=l(37159),a=l(35540),r=l(57147),c=l(80418),u=l(84916);let v=e=>{let{content:i,onUndo:l,onClose:o}=e,[d,s]=(0,n.useState)(!1);return!d&&(0,t.jsxs)("div",{className:"bg-primary text-vinylBlack-darker p-2 rounded-md flex items-center justify-between font-sans",children:[(0,t.jsx)("p",{children:(0,t.jsx)("span",{className:"font-bold",children:i})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>{s(!0),l()},className:"mx-2 px-4 py-1 text-sm border border-vinylBlack-darker rounded-full hover:bg-vinylBlack-darker hover:text-primary transition-colors duration-200",children:"Undo"}),o&&(0,t.jsx)(u.CloseButton,{onClick:o})]})]})};var p=l(77700),m=l(58670),g=l(59108),x=l(3740),h=l(85821),f=l(50649),b=l(61932);let C=e=>{let{clips:i,isTrashed:l,undoTrash:o}=e,[d,s]=(0,n.useState)(!1),a=async()=>{d||(await o(),s(!0))},r=1===i.length?i[0]:void 0;return(0,t.jsxs)(p.Box,{p:4,color:"white",bg:"red.400",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",width:["320px","320px","475px"],children:[(0,t.jsxs)(p.Box,{flex:"1",children:[" ",(0,t.jsx)(m.Text,{children:d?(0,t.jsxs)(g.Flex,{alignItems:"center",justifyContent:"center",display:"flex",children:[(0,t.jsx)(p.Box,{mb:2,children:" Your action has been undone."}),(0,t.jsx)(x.Icon,{as:f.Srz,ml:2,mb:2})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Text,{fontWeight:"bold",display:"inline",children:r?(0,b.p8)(r):"".concat(i.length," clips")}),l?" ".concat(r?"has":"have"," been moved to trash."):" ".concat(r?"has":"have"," been restored to your library.")]})})]}),!d&&(0,t.jsx)(h.Button,{bg:"red.400",color:"white",onClick:a,children:(0,t.jsxs)(g.Flex,{alignItems:"center",children:[(0,t.jsx)(x.Icon,{as:f.kUX,marginRight:"2"}),"Undo"]})})]})};var y=l(63808),k=l(2918),S=l(19014),w=l(90037),j=l(7132),I=l(88008),A=l(99428),P=l(63175),_=l(4869),N=l(24423);function M(e,i){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t="link-only"===e.id,n=null==i?void 0:i.is_public,o={background:"none",color:"#FAF7F5"};return t&&!n?{...o,color:"#A19F9D",pointerEvents:"none"}:l?{...o,background:"#FAF7F5",color:"#000000"}:o}let T=e=>{var i;return(null==e?void 0:e.major_model_version)==="v2"||(null==e?void 0:e.major_model_version)==="v3"||(null==e?void 0:e.major_model_version)==="v3.5"||(null==e?void 0:e.major_model_version)==="v4"||(null==e?void 0:null===(i=e.model_name)||void 0===i?void 0:i.includes("auk"))},R=e=>(null==e?void 0:e.status)==="complete",L=e=>{let{clip:i,session:l}=e;return(null==i?void 0:i.persona)&&(i.persona.is_public&&i.is_public||i.user_id===(null==l?void 0:l.userId))},D=e=>{var i,l;let{clip:t,session:n}=e;return(T(t)||["upload","edit_crop","edit_fade"].includes((null==t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.type)||""))&&((null==n?void 0:n.isStaff)||(null==n?void 0:null===(l=n.flags)||void 0===l?void 0:l.personas))&&(L(e)||(null==t?void 0:t.user_id)===(null==n?void 0:n.userId))},E=(e,i)=>"visibility-link-only"===i&&!e.is_public||"visibility-public"===i&&e.is_public?"#FAF7F5":"none",F=async e=>{let{clips:i,library:l,trash:t,selectionProps:n}=e,{selectedClipIds:o,selectedClipsIsTrashedState:d}=n;await i.trashClips(o||[],!!d),d?null==o||o.forEach(e=>{null==t||t.addToTrash(e)}):null==o||o.forEach(e=>{l.addToLibrary(e),i.addToCreatePage(e)})},H=(e,i,l,n,o)=>{var d,s,a;(null===(d=l.experiments)||void 0===d?void 0:d[j.az])&&(null===(s=e.metadata)||void 0===s?void 0:s.priority)!==j.tu.Pro&&!(null===(a=l.roles)||void 0===a?void 0:a.pro)?i.openConfirmationModal({title:"Need commercial rights?",renderMessage:()=>(0,t.jsxs)("div",{className:"flex flex-col gap-4 text-center px-4 py-4",children:[(0,t.jsxs)("span",{children:["Only ",(0,t.jsx)("span",{className:"font-bold",children:"Pro"})," and"," ",(0,t.jsx)("span",{className:"font-bold",children:"Premier"})," songs are eligible for commercial use."]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"font-bold",children:"Upgrade now"})," and this song will be upgraded too."]}),(0,t.jsx)("span",{children:(0,t.jsx)("a",{href:"https://help.suno.com/en/categories/550145-rights-ownership",target:"_blank",children:"Rights and Ownership FAQs"})})]}),onConfirmFn:()=>{o(),(0,y.Ay)({actionName:"MakeDownloadUpgradeModalSelection",context:{selection:"download"}})},onActionFn:()=>{n.push("/account"),(0,y.Ay)({actionName:"MakeDownloadUpgradeModalSelection",context:{selection:"upgrade"}})},onCloseFn:()=>{(0,y.Ay)({actionName:"DismissDownloadUpgradeModal",context:{}})},confirmButtonText:"Download Anyway",actionButtonText:"Upgrade"}):o()},O=e=>{let{router:i,pathname:l,statsigClient:u,sectionName:p}=e;return[{actions:[{id:"remix",title:"Remix",icon:f.x7r,isHidden:e=>{var i,l,t;let{session:n,clip:o,selectionProps:{isMultiSelecting:d},hideCreationActions:s}=e;return null===(i=n.flags)||void 0===i||!i.remix||(null===(l=n.user)||void 0===l?void 0:l.id)===o.user_id||(null===(t=o.metadata)||void 0===t?void 0:t.can_remix)===!1||d||!!(null==o?void 0:o.is_trashed)||!!s},tooltipProps:{show:!0,getMessage:e=>{var i;let{clip:l}=e;return(0,a.qM)(l)?"Not available for Suno Scenes":(null==l?void 0:l.status)?(null===(i=l.metadata)||void 0===i?void 0:i.can_remix)?"":"The creator has disabled remixing for this song":"Can't remix an invalid clip"},mobileInlineText:!0},items:[{title:"Cover",id:"remix-cover",icon:f.Rw8,isLoading:e=>{let{clip:i}=e;return!R(i)},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:async e=>{let{session:i,clip:l,genForm:t,router:n,pathname:o,createV2:d,project:s}=e;R(l)&&((0,y.Ay)({actionName:"SongMenuRemixCoverClicked",context:{clipId:null==l?void 0:l.id}}),(0,_.m2)(i)&&await s.setCurrentProjectToClipProject(l),(0,P.dM)({clip:l,session:i,genForm:t,createV2:d,router:n,pathname:o}))},isBeta:!0},{title:"Extend",id:"remix-extend",icon:f.SKP,isLoading:e=>{let{clip:i}=e;return!R(i)},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:async e=>{let{session:i,clip:l,genForm:t,router:n,pathname:o,createV2:d,project:s,setExtendModeOn:a}=e;(0,y.Ay)({actionName:"SongMenuRemixExtendClicked",context:{clipId:null==l?void 0:l.id}}),(0,_.m2)(i)&&await s.setCurrentProjectToClipProject(l),I.LS.logAudioActionWithContext({isMobile:!1,actionName:A.a2.extendSong,clip:l,session:i,pathname:o,componentContext:A.zq.SONG_DROPDOWN}),null==a||a(!0),(0,P.k8)({clip:l,genForm:t,createV2:d,router:n,pathname:o})}},{title:"Use Styles & Lyrics",id:"remix-use-styles-lyrics",icon:f.qaf,isLoading:e=>{let{clip:i}=e;return!R(i)},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{let{clip:i,genForm:l,router:t,pathname:n,createV2:o}=e;(0,y.Ay)({actionName:"SongMenuRemixUseStylesLyricsClicked",context:{clipId:null==i?void 0:i.id}}),(0,P.Dw)({clip:i,genForm:l,createV2:o,router:t,pathname:n})}},{title:"Adjust Speed",id:"remix-adjust-speed",icon:f.rlE,isDisabled:e=>{var i,l;let{clip:t}=e;return!R(t)||(null==t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.type)==="upload"||!!(null==t?void 0:null===(l=t.metadata)||void 0===l?void 0:l.has_vocal)},isHidden:e=>{var i;let{session:l}=e;return!(null===(i=l.flags)||void 0===i?void 0:i["remix-adjust-speed"])},disabledText:"Clip is generating",onClick:e=>{var i;let{session:l,clip:t,genForm:n,router:o,pathname:d,createV2:s}=e;(null===(i=l.flags)||void 0===i?void 0:i["remix-adjust-speed"])&&((0,y.Ay)({actionName:"SongMenuRemixAdjustSpeedClicked",context:{clipId:null==t?void 0:t.id}}),(0,P.jn)({clip:t,genForm:n,createV2:s,router:o,pathname:d,showRemixCreate:!0}))}}]},{id:"edit",title:"Song Editor",icon:f.b8b,onClick:e=>{let{clip:i,genForm:l,edit:t,router:n,pathname:o,session:d}=e;if(l.cacheState(),(0,y.Ay)({actionName:"SongMenuEditClicked",context:{clipId:null==i?void 0:i.id}}),t.setExitEditModeCallback(()=>{n.push(o)}),(0,_.m2)(d)){var s;n.push("/edit/".concat(i.id,"?wid=").concat((null===(s=i.project)||void 0===s?void 0:s.id)||"default"))}else n.push("/edit/".concat(i.id))},isHidden:e=>{var i;let{clip:l,session:t,selectionProps:{isMultiSelecting:n}}=e;return!(!(null==l?void 0:l.is_trashed)&&(null===(i=t.user)||void 0===i?void 0:i.id)===(null==l?void 0:l.user_id)&&!n)},items:[{title:"Song Details",topLevelItemTitle:"Edit Song Details",id:"edit-details",onClick:e=>{let{library:i,clip:l,menus:t}=e;i.setActiveClip(l),t.openModal(k.H.UPDATE_CLIP_METADATA)}},{title:"Crop Song",id:"crop-song",isLoading:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{let{clip:i,genForm:l,router:t,pathname:n,edit:o,session:d}=e;if(l.cacheState(),o.setExitEditModeCallback(()=>{t.push(n)}),(0,y.Ay)({actionName:"SongMenuCropSongClicked",context:{clipId:null==i?void 0:i.id}}),(0,_.m2)(d)){var s;t.push("/edit/".concat(i.id,"?tool=crop&wid=").concat((null===(s=i.project)||void 0===s?void 0:s.id)||"default"))}else t.push("/edit/".concat(i.id,"?tool=crop"))},desktopOnly:!0},{title:"Replace Section",id:"replace-section",isLoading:e=>{let{clip:i}=e;return!R(i)},hasTooltip:!0,disabledText:"",isDisabled:e=>{var i;let{clip:l}=e;return!(null==l?void 0:null===(i=l.metadata)||void 0===i?void 0:i.duration)},onClick:e=>{let{clip:i,genForm:l,edit:t,router:n,pathname:o,session:d}=e;if(l.cacheState(),(0,y.Ay)({actionName:"SongMenuReplaceSectionClicked",context:{clipId:null==i?void 0:i.id}}),t.setExitEditModeCallback(()=>{n.push(o)}),(0,_.m2)(d)){var s;n.push("/edit/".concat(i.id,"?tool=infill&wid=").concat((null===(s=i.project)||void 0===s?void 0:s.id)||"default"))}else n.push("/edit/".concat(i.id,"?tool=infill"))},desktopOnly:!0},{title:"Adjust Speed",id:"adjust-speed",isDisabled:e=>{var i,l;let{clip:t}=e;return!R(t)||(null==t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.type)==="upload"||!!(null==t?void 0:null===(l=t.metadata)||void 0===l?void 0:l.has_vocal)},isHidden:e=>{var i;let{session:l}=e;return!(null===(i=l.flags)||void 0===i?void 0:i["remix-adjust-speed"])},disabledText:"Clip is generating",onClick:e=>{var i;let{session:l,clip:t,genForm:n,router:o,pathname:d,createV2:s}=e;(null===(i=l.flags)||void 0===i?void 0:i["remix-adjust-speed"])&&((0,y.Ay)({actionName:"SongMenuAdjustSpeedClicked",context:{clipId:null==t?void 0:t.id}}),(0,P.jn)({clip:t,genForm:n,createV2:s,router:o,pathname:d,showRemixCreate:!1}))}}]},{id:"create",title:"Create",icon:f.WSU,isHidden:e=>{let{clip:i,selectionProps:{isMultiSelecting:l},hideCreationActions:t}=e;return l||!!(null==i?void 0:i.is_trashed)||!!t},isDisabled:e=>{let{clip:i}=e;return!!(!(null==i?void 0:i.status)||(0,a.qM)(i))},tooltipProps:{show:!0,getMessage:e=>{let{clip:i}=e;return(0,a.qM)(i)?"Not available for Suno Scenes":(null==i?void 0:i.status)?"":"Can't create from an invalid clip"},mobileInlineText:!0},items:[{title:"Extend",id:"extend",isLoading:e=>{let{clip:i}=e;return!R(i)},isDisabled:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i,l,t;let{session:n,clip:o}=e;if((null===(i=n.flags)||void 0===i?void 0:i.remix)&&(null===(l=n.user)||void 0===l?void 0:l.id)!==o.user_id)return!0;let d=!T(o)&&!["upload","edit_crop","edit_fade"].includes((null==o?void 0:null===(t=o.metadata)||void 0===t?void 0:t.type)||""),s=null==o?void 0:o.metadata.infill,a=(null==o?void 0:o.user_id)!==n.userId&&(0,w.a)(o);return d&&!0||s||a},onClick:async e=>{var i,l,t,n;let{session:o,genForm:d,clip:s,pathname:a,project:r,router:c,setExtendModeOn:u,createV2:v}=e;(0,y.Ay)({actionName:"SongMenuExtendClicked",context:{clipId:null==s?void 0:s.id,isUserSongOwner:(null==o?void 0:o.userId)===(null==s?void 0:s.user_id)}}),(0,_.m2)(o)&&await r.setCurrentProjectToClipProject(s),I.LS.logAudioActionWithContext({isMobile:!1,actionName:A.a2.extendSong,clip:s,session:o,pathname:a,componentContext:A.zq.SONG_DROPDOWN}),null==u||u(!0),d.setContinueClip(s),d.matchClipModel(s),d.shouldOpenMobileCreate=!0,""===d.style&&d.setStyle((null==s?void 0:null===(n=s.metadata)||void 0===n?void 0:n.tags)||""),d.setNegativeTags((null==s?void 0:null===(i=s.metadata)||void 0===i?void 0:i.negative_tags)||""),d.resetEnableExcludeStyle(),(null===(l=o.flags)||void 0===l?void 0:l["create-v1.5"])&&(v.setActivePersona(null),""===v.activeTitle&&v.setActiveTitle((0,b.p8)(s)||"")),(null===(t=o.flags)||void 0===t?void 0:t["auk-features"])&&d.coverClipId?(d.resetPersona(),d.setTask("cover_extend")):(d.resetCoverClip(),d.resetPersona(),d.setTask((0,b.IK)(s))),d.shouldOpenMobileCreate=!0,"/create"!==a&&c.push("/create")}},{title:"Get Whole Song",id:"get-whole-song",isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i,l,t;let{clip:n,session:o}=e,d=!T(n),s=(null==o?void 0:null===(i=o.user)||void 0===i?void 0:i.id)!==(null==n?void 0:n.user_id),a=!(null==n?void 0:null===(l=n.metadata)||void 0===l?void 0:l.history),r=!!(null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.infill);return!!(d||s||a||r)},onClick:async e=>{var i;let{clips:l,clip:t,project:n,session:o}=e;R(t)&&((0,_.m2)(o)&&await n.setCurrentProjectToClipProject(t),l.runConcat(null==t?void 0:t.id,!!(null==t?void 0:t.metadata.infill),{editSessionId:null==t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.edit_session_id}),(0,y.Ay)({actionName:"SongMenuGetWholeSongClicked",context:{clipId:null==t?void 0:t.id}}))}},{title:"Confirm Section",id:"confirm-section",isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i;let{clip:l,session:t}=e,n=(null==l?void 0:l.user_id)===(null==t?void 0:t.userId);return!((null==l?void 0:null===(i=l.metadata)||void 0===i?void 0:i.infill)&&n)},onClick:async e=>{var i;let{clips:l,clip:t,project:n,session:o}=e;R(t)&&((0,_.m2)(o)&&await n.setCurrentProjectToClipProject(t),l.runConcat(null==t?void 0:t.id,!!(null==t?void 0:t.metadata.infill),{editSessionId:null==t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.edit_session_id}),(0,y.Ay)({actionName:"SongMenuConfirmSectionClicked",context:{clipId:null==t?void 0:t.id}}))}},{title:"Reuse Prompt",id:"reuse-prompt",isHidden:e=>{var i,l;let{clip:t,session:n}=e;return null!==(i=n.flags)&&void 0!==i&&!!i.remix&&(null===(l=n.user)||void 0===l?void 0:l.id)!==t.user_id||!!t.metadata.infill},onClick:e=>{var i;let{session:l,clip:t,genForm:n,router:o,pathname:d,createV2:s}=e;(0,y.Ay)({actionName:"SongMenuReusePromptClicked",context:{clipId:null==t?void 0:t.id,isUserSongOwner:(null==l?void 0:l.userId)!==void 0&&(null==t?void 0:t.user_id)===(null==l?void 0:l.userId)}}),(0,N.Kp)(l.apiClient,t),n.reuseClip(t),(null===(i=l.flags)||void 0===i?void 0:i["create-v1.5"])&&s.reuseClipPrompt(t),n.shouldOpenMobileCreate=!0,"/create"!==d&&o.push("/create")}},{title:"Cover Song",id:"cover-song",hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},onClick:async e=>{var i,l,t,n,o,s;let{clip:a,session:r,pathname:c,router:u,genForm:v,project:p,createV2:m}=e;if(!(0,_.FJ)(r)&&!(0,_.Xl)(r)||!R){if((0,y.Ay)({actionName:"DisabledCoverSongClicked",context:{clipId:null==a?void 0:a.id}}),!R)return;u.push("/account");return}if((0,y.Ay)({actionName:"SongMenuCoverSongClicked",context:{clipId:null==a?void 0:a.id,isUserSongOwner:(null==r?void 0:r.userId)!==void 0&&(null==a?void 0:a.user_id)===(null==r?void 0:r.userId)}}),(0,_.m2)(r)&&await p.setCurrentProjectToClipProject(a),v.resetInfill(),!(null===(i=r.flags)||void 0===i?void 0:i["persona-cover"])&&(v.resetPersona(),(null===(n=r.flags)||void 0===n?void 0:n["create-v1.5"])&&m.setActivePersona(null)),v.setCoverClip(a),(null===(l=r.flags)||void 0===l?void 0:l["persona-cover"])&&v.personaId?(v.resetContinueClip(),v.setTask("artist_cover")):v.continueClipId&&(null===(o=r.flags)||void 0===o?void 0:o["auk-features"])?v.setTask("cover_extend"):(v.resetContinueClip(),v.setTask("cover")),null===(t=r.flags)||void 0===t?void 0:t["create-v1.5"]){let e=(0,d.F)(v.mv);m.setActiveLyrics(((null===(s=a.metadata)||void 0===s?void 0:s.prompt)||"").slice(0,e)),m.setActiveLyricsMode("custom"),m.setActiveLyricsModeTab("custom"),m.setActiveTitle("".concat((0,b.p8)(a)||"Untitled"," (Cover)"))}v.shouldOpenMobileCreate=!0,"/create"!==c&&u.push("/create")},isHidden:e=>{var i,l,t,n;let{clip:o,session:d}=e;if((null===(i=d.flags)||void 0===i?void 0:i.remix)&&(null===(l=d.user)||void 0===l?void 0:l.id)!==o.user_id)return!0;let s=!!(null===(t=o.metadata)||void 0===t?void 0:t.infill),a=[...c.LK],r=T(o),u=["gen","upload","edit_crop","edit_fade","rendered-project"].includes((null==o?void 0:null===(n=o.metadata)||void 0===n?void 0:n.type)||""),v=(null==d?void 0:d.isStaff)||(null==o?void 0:o.user_id)===(null==d?void 0:d.userId),p=a.includes((null==o?void 0:o.id)||"");return!(!s&&(r||u)&&(v||p))},isDisabled:e=>{let{clip:i,session:l}=e;return!R(i)||!(0,_.FJ)(l)&&!(0,_.Xl)(l)},clickDisabledActionName:A.a2.clickDisabledCoverSong,disabledText:"Subscribe to cover this song",isBeta:!0},{title:"Make Persona",id:"make-persona",hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i,l,t;let{clip:n,session:o}=e,d=!!(null===(i=n.metadata)||void 0===i?void 0:i.infill),s=(null==n?void 0:null===(l=n.metadata)||void 0===l?void 0:l.type)==="stem",a=!!(null===(t=n.persona)||void 0===t?void 0:t.id),r=(null==n?void 0:n.user_id)===(null==o?void 0:o.userId);return d||s||a&&"edit_crop"!==n.metadata.type||!r},isDisabled:e=>{var i,l,t;let{clip:n,session:o}=e,d=!!((null==n?void 0:null===(i=n.metadata)||void 0===i?void 0:i.has_vocal)||(null==n?void 0:null===(l=n.metadata)||void 0===l?void 0:l.type)==="upload"),s=!!d||T(n),a=(null==n?void 0:n.user_id)===(null==o?void 0:o.userId);return(0,_.Xl)(o)?!d&&!s:!d&&!s||!(0,_.FJ)(o)&&!(0,_.Xl)(o)||!a||d&&!(null===(t=o.flags)||void 0===t?void 0:t["personas-audio-upload"])},disabledText:"Subscribe to create a Persona",onClick:e=>{var i,l,t;let{session:n,clip:o,menus:d}=e;if(R(o)){if(!(0,_.FJ)(n)&&!(0,_.Xl)(n)){d.openModal(k.H.PERSONA_SUBSCRIBE);return}((null==o||null===(i=o.metadata)||void 0===i||!i.has_vocal)&&(null==o?void 0:null===(l=o.metadata)||void 0===l?void 0:l.type)!=="upload"||(0,_.Xl)(n)||(null===(t=n.flags)||void 0===t?void 0:t["personas-audio-upload"]))&&((0,y.Ay)({actionName:"SongMenuMakePersonaClicked",context:{clipId:null==o?void 0:o.id}}),d.openModal(k.H.CREATE_PERSONA))}},isBeta:!0},{title:"Use Persona",id:"use-persona",hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i,l,t,n;let{clip:o}=e,d=!!(null===(i=o.metadata)||void 0===i?void 0:i.infill),s=!(null===(l=o.persona)||void 0===l?void 0:l.is_owned)&&!(null===(t=o.persona)||void 0===t?void 0:t.is_public);return d||!(null===(n=o.persona)||void 0===n?void 0:n.id)||s},isDisabled:e=>{let{session:i}=e;return!D(e)||!(0,_.FJ)(i)&&!(0,_.Xl)(i)},onClick:e=>{var t,n,o,d,s,a,r;let{genForm:c,clip:u,session:v,menus:p,createV2:m}=e;if(!(0,_.FJ)(v)&&!(0,_.Xl)(v)){p.openModal(k.H.PERSONA_SUBSCRIBE);return}(null===(t=v.flags)||void 0===t?void 0:t["auk-features"])||c.resetContinueClip(),(null===(n=v.flags)||void 0===n?void 0:n["persona-cover"])||c.resetCoverClip(),c.setPersona((null===(o=u.persona)||void 0===o?void 0:o.id)||null),c.setPersonaClipId(u.id),c.setArtistClip(u),c.setStyle((null==u?void 0:null===(d=u.metadata)||void 0===d?void 0:d.tags)||""),c.setNegativeTags((null===(s=u.metadata)||void 0===s?void 0:s.negative_tags)||""),c.shouldOpenMobileCreate=!0,(null==u?void 0:u.metadata.negative_tags)!==""&&c.setEnableExcludeStyle(!0),(null===(a=v.flags)||void 0===a?void 0:a["persona-cover"])&&c.coverClipId?c.setTask("artist_cover"):c.setTask("artist_consistency"),(null===(r=v.flags)||void 0===r?void 0:r["create-v1.5"])&&m.setActivePersona(u.persona),(0,y.Ay)({actionName:"SongMenuUsePersonaClicked",context:{clipId:null==u?void 0:u.id,isUserSongOwner:(null==v?void 0:v.userId)!==void 0&&(null==u?void 0:u.user_id)===(null==v?void 0:v.userId)}}),"/create"!==l&&i.push("/create")},disabledText:"Subscribe to use this Persona",isBeta:!0},{title:"Get Stems",id:"get-stems",hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i,l;let{clip:t,session:n,selectionProps:{isMultiSelecting:o}}=e,d=!!(null===(i=t.metadata)||void 0===i?void 0:i.infill);return!(R(t)&&!(null==t?void 0:t.is_trashed)&&!o&&(null===(l=n.user)||void 0===l?void 0:l.id)===(null==t?void 0:t.user_id)&&!d)},isDisabled:e=>{let{session:i}=e;return!(0,_.cA)(i,S.s$.GetStems)},onClick:async e=>{let{clip:i,clips:l,router:t,pathname:n,session:d,project:s}=e;if((0,_.cA)(d,S.s$.GetStems))(0,y.Ay)({actionName:"SongMenuGetStemsClicked",context:{clipId:null==i?void 0:i.id}});else{(0,y.Ay)({actionName:"DisabledGetStemsClicked",context:{clipId:null==i?void 0:i.id}}),t.push("/account");return}(0,_.m2)(d)&&await s.setCurrentProjectToClipProject(i),l.makeStems(i),"/create"!==n&&t.push("/create"),(0,o.oR)({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0})},disabledText:"Subscribe to Get Stems"},{title:"Remaster",id:"remaster",hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},clickDisabledActionName:A.a2.clickDisabledUpsample,onClick:async e=>{var i;let{clip:t,session:n,clips:d,router:s,menus:a,project:r}=e;if(!((0,_.FJ)(n)||(null===(i=n.roles)||void 0===i?void 0:i.staff))){window.open("/account","_blank"),(0,y.Ay)({actionName:"DisabledUpsampleClicked",context:{clipId:null==t?void 0:t.id}});return}(0,_.m2)(n)&&await r.setCurrentProjectToClipProject(t),(0,y.Ay)({actionName:"SongMenuRemasterClicked",context:{clipId:null==t?void 0:t.id}}),await d.upsampleClip(t),"/create"!==l&&s.push("/create"),(0,o.oR)({title:"Remastering clip...",status:"success",duration:1e4,isClosable:!0})},isHidden:e=>{var i,l,t;let{session:n,clip:o,selectionProps:{isMultiSelecting:d}}=e,s=!!(null===(i=o.metadata)||void 0===i?void 0:i.infill);return!((null===(l=n.flags)||void 0===l?void 0:l.upsample)&&R(o)&&!(null==o?void 0:o.is_trashed)&&!d&&((null===(t=n.user)||void 0===t?void 0:t.id)===(null==o?void 0:o.user_id)||n.isStaff)&&!s)},isDisabled:e=>{var i;let{session:l}=e;return!((0,_.FJ)(l)||(null===(i=l.roles)||void 0===i?void 0:i.staff))}},{title:"Song Radio",id:"radio",isHidden:e=>{let{clip:i,session:l,pathname:t}=e;return!l.user||t==="/radio/song/".concat(null==i?void 0:i.id)||!R(i)},onClick:e=>{let{clip:i,router:l,session:t}=e;(0,y.Ay)({actionName:"SongMenuSongRadioClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:(null==t?void 0:t.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==t?void 0:t.userId)}}),l.push("/radio/song/".concat(null==i?void 0:i.id))}}]},{title:"Add to Queue",id:"add-to-queue",icon:f.jBU,isHidden:e=>{let{clip:i}=e;return i.is_trashed},onClick:e=>{let{session:i,clip:l,queue:t}=e;t.addToQueue(l),(0,y.Ay)({actionName:"SongMenuAddToPlaylistClicked",context:{clipId:null==l?void 0:l.id,isUserSongOwner:(null==i?void 0:i.userId)!==void 0&&(null==l?void 0:l.user_id)===(null==i?void 0:i.userId)}}),(0,o.oR)({title:"Added to song queue",status:"success",duration:2e3,isClosable:!0})}},{title:"Add to Playlist",id:"add-to-playlist",icon:f.c11,isHidden:e=>{let{clip:i}=e;return i.is_trashed},onClick:e=>{let{menus:i,session:l,clip:t}=e;(0,y.Ay)({actionName:"SongMenuAddToPlaylistClicked",context:{clipId:null==t?void 0:t.id,isUserSongOwner:(null==l?void 0:l.userId)!==void 0&&(null==t?void 0:t.user_id)===(null==l?void 0:l.userId)}}),i.openModal(k.H.ADD_TO_PLAYLIST)}},{title:"Remove from Playlist",id:"remove-from-playlist",icon:f.QGg,isHidden:e=>{let{onRemoveFromPlaylist:i}=e;return!i},onClick:e=>{let{onRemoveFromPlaylist:i,clip:l,session:t}=e;return(0,y.Ay)({actionName:"SongMenuRemoveFromPlaylistClicked",context:{clipId:null==l?void 0:l.id,isUserSongOwner:(null==t?void 0:t.userId)!==void 0&&(null==l?void 0:l.user_id)===(null==t?void 0:t.userId)}}),null==i?void 0:i()}},{title:"Move to Workspace",id:"add-to-project",isHidden:e=>{let{session:i,selectionProps:{allSelectedClipsOwnedByUser:l}}=e;return!(0,_.m2)(i)||!l},icon:f.jab,onClick:e=>{let{menus:i,clip:l}=e;return(0,y.Ay)({actionName:"SongMenuMoveToWorkspaceClicked",context:{clipId:null==l?void 0:l.id}}),i.openModal(k.H.ADD_TO_PROJECT)}},{title:"Remove from Workspace",id:"remove-from-project",isHidden:e=>{let{session:i,onRemoveFromProject:l,selectionProps:{allSelectedClipsOwnedByUser:t}}=e;return!l||!(0,_.m2)(i)||!t},onClick:e=>{let{onRemoveFromProject:i,clip:l}=e;return(0,y.Ay)({actionName:"SongMenuRemoveFromWorkspaceClicked",context:{clipId:null==l?void 0:l.id}}),null==i?void 0:i()},desktopOnly:!0}]},{actions:[{id:"visibility",title:"Visibility & Permissions",isHidden:e=>{var i;let{session:l,clip:t,selectionProps:{isMultiSelecting:n},isFromSongRow:o}=e;return!((null===(i=l.user)||void 0===i?void 0:i.id)===(null==t?void 0:t.user_id)&&!n&&!(null==t?void 0:t.is_trashed)&&!o)},items:[{title:"Link Only",id:"visibility-link-only",icon:f.PWG,bgOverride:e=>E(e.clip,"visibility-link-only"),textOverride:"#000000",onClick:e=>{let{clips:i,clip:l}=e;i.setClipVisibility(null==l?void 0:l.id,!1),(0,y.Ay)({actionName:"SongMenuLinkOnlyClicked",context:{clipId:null==l?void 0:l.id}})},isHidden:()=>u.checkGate("web-publish-2025")},{title:"Public",id:"visibility-public",icon:f.fCU,bgOverride:e=>E(e.clip,"visibility-public"),textOverride:"#000000",onClick:e=>{let{clips:i,clip:l}=e;i.setClipVisibility(null==l?void 0:l.id,!0),(0,y.Ay)({actionName:"SongMenuPublicClicked",context:{clipId:null==l?void 0:l.id}})},isHidden:u.checkGate("web-publish-2025"),isDisabled:e=>{let{clip:i}=e;return(0,w.a)(i)},disabledText:j.qj},{title:e=>{let{clip:i,isDisabled:l}=e;return(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-2 w-full",children:[(0,t.jsx)("span",{className:"flex-1",children:"Public"}),(0,t.jsx)(r.A,{small:!0,checked:i.is_public,disabled:l})]})},id:"allow-public",icon:f.fCU,fullWidth:!0,onClick:e=>{let{menus:i,session:l,clip:t,clips:n}=e;!async function(e){n.setClipVisibility(null==t?void 0:t.id,e),e?(0,s.V)({clip:t,menus:i,session:l}):(0,s.L)({clip:t,session:l})}(!t.is_public)},isHidden:()=>!u.checkGate("web-publish-2025"),isDisabled:e=>{let{clip:i}=e;return(0,w.a)(i)},disabledText:j.qj},{title:e=>{let{clip:i}=e;return(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-2 w-full",children:[(0,t.jsx)("span",{className:"flex-1",children:"Allow Comments"}),(0,t.jsx)(r.A,{small:!0,checked:!!i.allow_comments})]})},id:"allow-comments",icon:f.Twg,fullWidth:!0,onClick:e=>{async function i(e){await l.setCommentsEnabled(t.id,e),(0,o.oR)({title:"Comments have been ".concat(e?"enabled":"disabled","."),status:"warning",duration:2e3,isClosable:!0})}let{clips:l,clip:t}=e,n=!t.allow_comments;i(n),(0,y.Ay)({actionName:"SongMenuAllowCommentsClicked",context:{clipId:null==t?void 0:t.id,enable:n}})}},{title:e=>{var i;let{clip:l}=e;return(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-2 w-full",children:[(0,t.jsx)("span",{className:"flex-1",children:"Allow Remixes"}),(0,t.jsx)(r.A,{small:!0,checked:(null===(i=l.metadata)||void 0===i?void 0:i.can_remix)!==!1})]})},id:"allow-remixes",icon:f.x7r,fullWidth:!0,isHidden:e=>{var i,l;let{session:t,clip:n}=e,o=null===(i=t.flags)||void 0===i?void 0:i.remix,d=(null===(l=t.user)||void 0===l?void 0:l.id)===(null==n?void 0:n.user_id);return!o||!d},onClick:e=>{var i;async function l(e){await t.toggleCanRemix(n.id,e),(0,o.oR)({title:"Remixes have been ".concat(e?"enabled":"disabled","."),status:"warning",duration:2e3,isClosable:!0})}let{clips:t,clip:n}=e,d=(null===(i=n.metadata)||void 0===i?void 0:i.can_remix)===!0;l(!d),(0,y.Ay)({actionName:"SongMenuAllowRemixesToggled",context:{clipId:null==n?void 0:n.id,allowed:d}})}},{title:e=>{let{clip:i,clips:l}=e;return(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[(0,t.jsx)("span",{children:(null==l?void 0:l.isClipPinned(i.id))?"Unpin from Profile":"Pin to Profile"}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(r.A,{small:!0,checked:null==l?void 0:l.isClipPinned(i.id),containerClassName:"pointer-events-none"})})]})},id:"pin-to-profile",icon:f.tsw,fullWidth:!0,isHidden:e=>{var i,l;let{session:t,clip:n}=e,o=null===(i=t.flags)||void 0===i?void 0:i["profile-pins"],d=(null===(l=t.user)||void 0===l?void 0:l.id)===(null==n?void 0:n.user_id);return!o||!d||(0,w.a)(n)},onClick:e=>{let{clips:i,clip:l,menus:t}=e,n=i.getPinnedCount(),d=i.isClipPinned(l.id),s=!1,a=n>=5,r=!l.is_public,c="Pin limit reached!",u="You can only pin up to 5 songs to your Profile. Pinning this song will replace your oldest pinned song";a&&r?(c="Pin limit reached!",u="You can only pin up to 5 songs to your Profile. Pinning this song will replace your oldest pinned song and make this song Public",s=!0):a?(c="Pin limit reached!",u="You can only pin up to 5 songs to your Profile. Pinning this song will replace your oldest pinned song",s=!0):r&&(c="Pinning Private Song!",u="Pinning a private song will make it public. Are you sure you want to continue?",s=!0),!d&&s?(t.pendingPinClipId=l.id,i.pinnedClipsModalOptions={title:c,message:u},t.openModal(k.H.CONFIRM_PIN_REPLACEMENT),(0,y.Ay)({actionName:"SongMenuPinToProfileClicked",context:{clipId:null==l?void 0:l.id,isPinned:!d}})):(i.pinClipToProfile(l.id),(0,y.Ay)({actionName:"SongMenuPinToProfileClicked",context:{clipId:null==l?void 0:l.id,isPinned:!d}}),(0,o.oR)({title:"This song has been ".concat(d?"unpinned from Profile":"pinned to Profile","."),status:"warning",duration:2e3,isClosable:!0}))}}]},{id:"share",title:"Share",isHidden:e=>{let{clip:i,selectionProps:{isMultiSelecting:l}}=e;return!(!l&&R(i)&&!(null==i?void 0:i.is_trashed))},items:[{title:"Copy Link",id:"copy-link",icon:f.liv,onClick:async e=>{let{clip:i,session:l,clips:t}=e;(0,y.Ay)({actionName:"SongMenuCopyLinkClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:(null==l?void 0:l.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==l?void 0:l.userId)}}),await (0,N.Kj)(t.apiClient,i),l.clearTooltipOnShare()}},{title:"Share to...",id:"share-to",icon:f.K6s,onClick:e=>{let{menus:i,session:l,clip:t}=e;(0,y.Ay)({actionName:"SongMenuShareToClicked",context:{clipId:null==t?void 0:t.id,isUserSongOwner:(null==l?void 0:l.userId)!==void 0&&(null==t?void 0:t.user_id)===(null==l?void 0:l.userId)}}),i.setCurrentClip(t),i.openModal(k.H.SHARE_CLIP),l.clearTooltipOnShare()}}]},{id:"download",title:"Download",isHidden:e=>{var i;let{session:l,clip:t,selectionProps:{isMultiSelecting:n}}=e;return!((l.isStaff||(null===(i=l.user)||void 0===i?void 0:i.id)===(null==t?void 0:t.user_id))&&!n&&!(null==t?void 0:t.is_trashed))},items:[{title:"MP3 Audio",id:"download-mp3",icon:f.YBn,isHidden:!1,isLoading:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{let{clip:l,library:t,session:n,menus:o}=e;(0,y.Ay)({actionName:"SongMenuMP3AudioClicked",context:{clipId:null==l?void 0:l.id,isUserSongOwner:(null==n?void 0:n.userId)!==void 0&&(null==l?void 0:l.user_id)===(null==n?void 0:n.userId)}}),H(l,o,n,i,()=>{(0,N.fg)(t.apiClient,l)})}},{title:"WAV Audio",id:"download-wav",icon:f.YBn,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i;let{session:l,clip:t,selectionProps:{isMultiSelecting:n}}=e;return!((l.isStaff||(null===(i=l.user)||void 0===i?void 0:i.id)===(null==t?void 0:t.user_id))&&!n&&!(null==t?void 0:t.is_trashed))||!(0,b.u_)(l,t)},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{let{clip:l,library:t,clips:n,session:o,menus:d}=e;R(l)&&((0,y.Ay)({actionName:"SongMenuWAVAudioClicked",context:{clipId:null==l?void 0:l.id,isUserSongOwner:(null==o?void 0:o.userId)!==void 0&&(null==l?void 0:l.user_id)===(null==o?void 0:o.userId)}}),H(l,d,o,i,()=>{d.openModal(k.H.DOWNLOAD_FILE),(0,N.pm)(t.apiClient,l),n.pendingWavDownloadClip=l,n.pendingWavDownloadAtTime=Date.now(),n.setPendingWavPolling()}))}},{title:"Video",id:"download-video",icon:f.npA,isHidden:!1,isLoading:e=>{let{clip:i,clips:l}=e;return!!l.videoPendingById[null==i?void 0:i.id]},isDisabled:e=>{let{clip:i,clips:l}=e,t=!!(null==i?void 0:i.video_url),n=!!l.videoPendingById[null==i?void 0:i.id];return!t||n},onClick:e=>{let{clip:l,library:t,session:n,menus:o,clips:d}=e,s=!!(null==l?void 0:l.video_url),a=!!d.videoPendingById[null==l?void 0:l.id];s&&!a&&((0,y.Ay)({actionName:"SongMenuVideoClicked",context:{clipId:null==l?void 0:l.id,isUserSongOwner:(null==n?void 0:n.userId)!==void 0&&(null==l?void 0:l.user_id)===(null==n?void 0:n.userId)}}),H(l,o,n,i,()=>{(0,N.UG)(t.apiClient,l)}))}},{title:e=>{let{clip:i}=e,l=!!(null==i?void 0:i.video_url);return(0,t.jsx)("div",{className:"flex flex-row items-center gap-2 w-full",children:(0,t.jsx)("span",{children:l?"Regenerate Video":"Generate Video"})})},id:"regenerate-video",icon:f.iQW,hasTooltip:!0,isLoading:e=>{let{clip:i}=e;return!R(i)},isDisabled:e=>{let{clip:i,clips:l}=e;return!!l.videoPendingById[i.id]},isHidden:e=>{let{clip:i,selectionProps:{isMultiSelecting:l}}=e;return!R(i)||l},onClick:e=>{let{clip:i,clips:l,session:t}=e;(0,y.Ay)({actionName:"SongMenuRegenerateVideoClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:(null==t?void 0:t.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==t?void 0:t.userId)}}),l.regenerateVideo(i),(0,o.oR)({title:"Generating video...",status:"success",duration:4e3,isClosable:!0})}},{title:"Ownership Certificate",id:"ownership-certificate",icon:f.bDP,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{var i;let{session:l}=e;return!(null===(i=l.flags)||void 0===i?void 0:i["remix-cert"])},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{console.log(e)}},{title:"Share Asset",id:"share-asset",icon:f.liv,isLoading:e=>{let{clip:i}=e;return!R(i)},isHidden:e=>{let{session:i,clip:l,selectionProps:{isMultiSelecting:t}}=e;return!(i.isStaff&&!t&&!(null==l?void 0:l.is_trashed))},isDisabled:e=>{let{clip:i}=e;return!R(i)},onClick:e=>{let{clip:i,clips:l,menus:t}=e;R(i)&&(l.selectedShareAssetClip=i,t.openModal(k.H.DOWNLOAD_SHARE_ASSET))}}]}]},{actions:[{title:"Not Interested",id:"not-interested",isToggleable:!0,bgOverride:e=>{let{clip:i,clips:l}=e;return l.notInterestedById[i.id]?"#FAF7F5":"none"},icon:f.p6F,isHidden:e=>{let{session:i}=e;return!i.user||!l.includes("/on_repeat")&&(!p||!!p&&!["new_songs_for_you","featured_feed_for_you"].includes(p))},onClick:e=>{let{clip:i,clips:l,playbar:n}=e;async function d(e){let{clipId:s,isNotInterested:a}=e;(0,y.Ay)({actionName:"SongMenuNotInterestedClicked",context:{clipId:i.id,isNotInterested:a}});try{if(await l.updateSongNotInterested(s,a),a){var r;n.isPlaying&&(null===(r=n.clip)||void 0===r?void 0:r.id)===s&&n.canStepForward()&&n.stepForward(),(0,o.oR)({duration:2500,isClosable:!0,render:e=>{let{onClose:l}=e;return(0,t.jsx)(v,{content:"".concat(i.title," will be hidden in future recommendations"),onUndo:()=>{d({clipId:i.id,isNotInterested:!a})},onClose:l})}})}else(0,o.oR)({title:"".concat(i.title," will be shown in future recommendations"),duration:4e3,isClosable:!0})}catch(e){(0,o.oR)({title:"Error updating song preferences",description:"Please try again later.",status:"error",duration:5e3,isClosable:!0})}}let s=!l.notInterestedById[i.id];d({clipId:i.id,isNotInterested:s})}},{id:"report",title:"Report",isHidden:e=>{let{clip:i,selectionProps:{isMultiSelecting:l}}=e;return!(!l&&!(null==i?void 0:i.is_trashed))},items:[{title:"Bug",id:"report-bug",icon:f.Q5O,isHidden:e=>{var i;let{session:l,clip:t}=e;return(null===(i=l.user)||void 0===i?void 0:i.id)!==(null==t?void 0:t.user_id)},onClick:e=>{let{menus:i,session:l,clip:t}=e;(0,y.Ay)({actionName:"SongMenuReportBugClicked",context:{clipId:null==t?void 0:t.id,isUserSongOwner:(null==l?void 0:l.userId)!==void 0&&(null==t?void 0:t.user_id)===(null==l?void 0:l.userId)}}),i.openModal(k.H.FLAG_CLIP)}},{title:"Inappropriate",id:"report-inappropriate",icon:f.Ao9,isHidden:!1,onClick:e=>{let{clip:i,clips:l,session:t}=e;try{(0,y.Ay)({actionName:"SongMenuReportInappropriateClicked",context:{clipId:null==i?void 0:i.id,isUserSongOwner:(null==t?void 0:t.userId)!==void 0&&(null==i?void 0:i.user_id)===(null==t?void 0:t.userId)}}),l.flagClip(null==i?void 0:i.id,"flag_inappropriate")}catch(e){(0,o.oR)({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0})}}}]},{title:"Move to Trash",id:"move-to-trash",icon:f.ucK,isHidden:e=>{let{selectionProps:{allSelectedClipsOwnedByUser:i,selectedClipsIsTrashedState:l}}=e;return!(i&&!1===l)},onClick:async e=>{let{clips:i,library:l,selectionProps:t,clip:d}=e,{selectedClipIds:s,selectedClipsIsTrashedState:a,selectedClips:r}=t;(0,y.Ay)({actionName:"SongMenuMoveToTrashClicked",context:{clipId:null==d?void 0:d.id}}),(null==s?void 0:s.length)&&(await i.trashClips(s,!a),s.forEach(e=>{l.removeFromLibrary(e),i.removeFromCreatePage(e)}),(null==r?void 0:r.length)&&(0,o.oR)({duration:4e3,isClosable:!0,position:"bottom",render:()=>n.createElement(C,{clips:r,isTrashed:!a,undoTrash:()=>F(e)})}))}},{title:"Restore to Library",id:"restore-to-library",icon:f.kUX,isHidden:e=>{let{selectionProps:{allSelectedClipsOwnedByUser:i,selectedClipsIsTrashedState:l}}=e;return!(i&&!0===l)},onClick:async e=>{let{clips:i,selectionProps:l,trash:t,clip:d}=e,{selectedClipIds:s,selectedClipsIsTrashedState:a,selectedClips:r}=l;(0,y.Ay)({actionName:"SongMenuRestoreToLibraryClicked",context:{clipId:null==d?void 0:d.id}}),await i.trashClips(s||[],!a),null==s||s.forEach(e=>{null==t||t.removeFromTrash(e)}),(0,o.oR)({duration:4e3,isClosable:!0,position:"bottom",render:()=>n.createElement(C,{clips:r,isTrashed:!a,undoTrash:()=>F(e)})})}},{title:"Delete Permanently",id:"delete-permanently",icon:f.VPb,isHidden:e=>{let{selectionProps:{allSelectedClipsOwnedByUser:i,allSelectedClipsComplete:l,selectedClipsIsTrashedState:t}}=e;return!(i&&t&&l)},onClick:async e=>{let{menus:i,clip:l}=e;(0,y.Ay)({actionName:"SongMenuDeletePermanentlyClicked",context:{clipId:null==l?void 0:l.id}}),i.openModal(k.H.DELETE_CLIP)}}]}]}},79617:(e,i,l)=>{l.d(i,{Ay:()=>u,b4:()=>r,fq:()=>c,vw:()=>a});var t=l(95155),n=l(63438),o=l(39688),d=l(77119),s=l(50649);let a=e=>{let{children:i,className:l,ref:n,variant:d="default"}=e;return(0,t.jsx)("span",{ref:n,className:(0,o.QP)("text-xs text-primary font-medium font-sans border border-transparentWhite bg-tertiary rounded-md py-[3px] px-[6px] mb-1 flex flex-row items-center text-nowrap",{green:"text-green-300 border-green-300/60"}[d],l),children:i})},r=()=>(0,t.jsxs)(a,{children:[(0,t.jsx)(s.Sup,{fill:"#F4D03F"}),(0,t.jsx)("div",{className:"flex flex-row items-center ml-1",children:"Top Song"})]}),c=(0,n.PA)(e=>{let{clipType:i,modelName:l,modelMajorVersion:n,...s}=e,{session:r}=(0,d.gy)(),c=r.isStaff&&l?r.getModelDisplayName(l):"upload"===i?"Uploaded":"stem"===i?"Stem":"stem_mix"===i?"Remix":null==n?void 0:n.toLowerCase();return c?(0,t.jsx)(a,{...s,className:(0,o.QP)("mb-0",e.className),children:c}):null}),u=e=>{var i;let{clip:l,...n}=e;return(0,t.jsx)(c,{clipType:null===(i=l.metadata)||void 0===i?void 0:i.type,modelMajorVersion:l.major_model_version,modelName:l.model_name,...n})}},90037:(e,i,l)=>{l.d(i,{a:()=>n});var t=l(80418);let n=e=>!(!e.metadata.has_vocal||t.LK.includes(e.metadata.cover_clip_id||""))},97942:(e,i,l)=>{l.d(i,{A:()=>s});var t=l(95155),n=l(12115),o=l(39688);let d=(0,n.forwardRef)((e,i)=>(0,t.jsx)("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",...e,className:(0,o.QP)("animate-spin h-5 w-5 text-white/75",e.className),children:(0,t.jsx)("path",{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10c0-.41.34-.75.75-.75s.75.34.75.75c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8c-.41 0-.75-.34-.75-.75S11.59 2 12 2z"})}));d.displayName="SpinnerSVG";let s=d}}]);